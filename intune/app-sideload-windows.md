---
title: "Intune への Windows アプリと Windows Phone アプリのサイドロード"
description: "Intune を使用して展開できるように、基幹業務アプリに署名する方法について説明します。"
keywords: 
author: erikre
ms.author: erikre
manager: angrobe
ms.date: 06/07/2017
ms.topic: article
ms.prod: 
ms.service: 
ms.technology: 
ms.assetid: e44f1756-52e1-4ed5-bf7d-0e80363a8674
ms.custom: intune-classic
ms.openlocfilehash: 719f10ba306e53c34d785e7eaa0afc33751ddf73
ms.sourcegitcommit: e37e916e2bf14f092d3a767bc90d68c181d739fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/03/2018
---
# <a name="sign-line-of-business-apps-so-they-can-be-deployed-to-windows-devices-with-intune"></a><span data-ttu-id="d0ffb-103">Intune を使用して Windows デバイスに展開できるように基幹業務アプリに署名する</span><span class="sxs-lookup"><span data-stu-id="d0ffb-103">Sign line-of-business apps so they can be deployed to Windows devices with Intune</span></span>

[!INCLUDE[both-portals](./includes/note-for-both-portals.md)]

<span data-ttu-id="d0ffb-104">Intune 管理者は、ポータル サイト アプリを含め、基幹業務 (LOB) アプリを Windows および Windows 10 Mobile デバイスに展開することができます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-104">As an Intune administrator, you can deploy line-of-business (LOB) apps to Windows and Windows 10 Mobile devices, including the Company Portal app.</span></span> <span data-ttu-id="d0ffb-105">Windows 10 および Windows 10 Mobile デバイスに .appx または .xap アプリを展開する場合や、Windows 8.1 または Windows Phone 8.1 デバイスに LOB アプリを展開する場合は、**Symantec エンタープライズ モバイル コード署名証明書**を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-105">To deploy .appx or .xap apps to Windows 10 and Windows 10 mobile devices, or to deploy any LOB app to Windows 8.1 or Windows Phone 8.1 devices, you must get a **Symantec Enterprise Mobile Code Signing Certificate**.</span></span> <span data-ttu-id="d0ffb-106">これらの各 Windows デバイスのアプリで信頼されているのは Symantec 証明書のみです。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-106">Only the Symantec certificate is trusted for these apps for the respective Windows devices.</span></span> <span data-ttu-id="d0ffb-107">Windows 10 アプリと "ユニバーサル" アプリの場合は独自の証明機関を使用できます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-107">You can use your own certificate authority for Windows 10 apps and "universal" apps.</span></span> <span data-ttu-id="d0ffb-108">この証明書は、以下の操作を行うために必要です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-108">This certificate is required in order to:</span></span>

-   <span data-ttu-id="d0ffb-109">Windows PC、Windows 10 Mobile デバイス、Windows Phone デバイスに展開するためにポータル サイト アプリに署名する</span><span class="sxs-lookup"><span data-stu-id="d0ffb-109">Sign the Company Portal app for deployment to Windows PCs, Windows 10 Mobile devices, and Windows Phone devices</span></span>

-   <span data-ttu-id="d0ffb-110">Intune で Windows デバイスに展開できるように、会社の基幹業務アプリに署名する</span><span class="sxs-lookup"><span data-stu-id="d0ffb-110">Sign company line-of-business apps so Intune can deploy them to Windows devices</span></span>

<span data-ttu-id="d0ffb-111">次の手順は、必要な証明書を取得し、アプリに署名する場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-111">The steps below will help you get the required certificate and sign the apps.</span></span> <span data-ttu-id="d0ffb-112">Microsoft 開発者として登録し、Symantec 証明書を購入する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-112">You will need to register as a Microsoft developer, and then purchase a Symantec certificate.</span></span>


1. <span data-ttu-id="d0ffb-113">**Microsoft 開発者として登録する**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-113">**Register as a Microsoft developer**</span></span><br>
   <span data-ttu-id="d0ffb-114">ログイン時に使用した会社のアカウント情報を使用して、[Microsoft 開発者として登録](http://go.microsoft.com/fwlink/?LinkId=268442)し、自身の会社のアカウントを購入します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-114">[Register as a Microsoft developer](http://go.microsoft.com/fwlink/?LinkId=268442) using the corporate account information you used when logging in to purchase your company account.</span></span> <span data-ttu-id="d0ffb-115">コード署名証明書を受け取る前に、会社の担当者からこの要求の承認を受ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-115">This request will need to be authorized by a company officer before you receive a code-signing certificate.</span></span>

2. <span data-ttu-id="d0ffb-116">**会社の Symantec 証明書を取得する**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-116">**Get a company Symantec certificate**</span></span><br>
  <span data-ttu-id="d0ffb-117">[Symantec の Web サイト](http://go.microsoft.com/fwlink/?LinkId=268441)から Symantec ID を使用して証明書を購入します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-117">Purchase a certificate from the [Symantec website](http://go.microsoft.com/fwlink/?LinkId=268441) using your Symantec ID.</span></span> <span data-ttu-id="d0ffb-118">証明書を購入すると、Microsoft 開発者として登録したときに指定した会社の承認者は、証明書要求の承認を求めるメールを受信します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-118">After you purchase the certificate, the corporate approver whom you designated when you registered as a Microsoft developer will receive an email asking for approval of the certificate request.</span></span> <span data-ttu-id="d0ffb-119">Symantec 証明書の要件の詳細については、「[Why Windows Phone requires a Symantec certificate? (Windows Phone で Symantec 証明書が必要な理由)](https://technet.microsoft.com/library/dn764959.aspx#BKMK_Symantec)」</span><span class="sxs-lookup"><span data-stu-id="d0ffb-119">For more information about the Symantec certificate requirement, see the [Why Windows Phone requires a Symantec certificate?](https://technet.microsoft.com/library/dn764959.aspx#BKMK_Symantec)</span></span> <span data-ttu-id="d0ffb-120">(Windows デバイスの登録に関する FAQ) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-120">Windows device enrollment FAQ.</span></span>

3.  <span data-ttu-id="d0ffb-121">**証明書をインポートする**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-121">**Import certificates**</span></span><br>
    <span data-ttu-id="d0ffb-122">要求が承認されると、証明書をインポートするための手順を含む電子メールが届きます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-122">Once the request has been approved, you will receive an email containing instructions for importing certificates.</span></span> <span data-ttu-id="d0ffb-123">メールの指示に従って証明書をインポートします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-123">Follow the instructions in the email to import the certificates.</span></span>

4.  <span data-ttu-id="d0ffb-124">**インポートされた証明書を確認する**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-124">**Verify certificates imported**</span></span><br>
    <span data-ttu-id="d0ffb-125">証明書が正しくインポートされたことを確認するには、**[証明書]** スナップインに進み、**[証明書]** を右クリックして **[証明書の検索]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-125">To verify that the certificates have been imported correctly, go to the **Certificates** snap-in, right-click **Certificates**, and select **Find Certificates**.</span></span> <span data-ttu-id="d0ffb-126">**[含む]** フィールドに「Symantec」と入力し、 **[今すぐ検索]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-126">In the **Contains** field, enter “Symantec”, and click **Find Now**.</span></span> <span data-ttu-id="d0ffb-127">インポートした証明書が検索結果に表示されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-127">The certificates you imported should appear in the results.</span></span>

    ![Symantec 証明書の検索](./media/wit.gif)

5. <span data-ttu-id="d0ffb-129">**署名証明書をエクスポートする**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-129">**Export a signing certificate**</span></span><br>
    <span data-ttu-id="d0ffb-130">証明書があることを確認したら、.pfx ファイルをエクスポートしてポータル サイトに署名できます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-130">Having verified that the certificates are present, you can export the .pfx file to sign the company portal.</span></span> <span data-ttu-id="d0ffb-131">**[使用目的]** が "コード署名" になっている Symantec 証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-131">Select the Symantec certificate with **Intended purpose** “code-signing.”</span></span> <span data-ttu-id="d0ffb-132">そのコード署名証明書を右クリックして、**[エクスポート]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-132">Right-click the code-signing certificate and select **Export**.</span></span>

    ![署名証明書のエクスポート](./media/wit-walk-cert2.gif)

    <span data-ttu-id="d0ffb-134">**[証明書のエクスポート ウィザード]**が起動したら、 **[はい、秘密キーをエクスポートします]** を選択して **[次へ]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-134">In the **Certificate Export Wizard**, select **Yes, export the private key** and then click **Next**.</span></span> <span data-ttu-id="d0ffb-135">**[Personal Information Exchange - PKCS #12 (.PFX)]** を選択し、**[証明のパスにある証明書を可能であればすべて含む]** チェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-135">**Select Personal Information Exchange –PKCS #12 (.PFX)** and check **Include all the certificates in the certification path if possible**.</span></span> <span data-ttu-id="d0ffb-136">ウィザードを完了します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-136">Complete the wizard.</span></span> <span data-ttu-id="d0ffb-137">詳細については、「 [証明書を秘密キーと共にエクスポートする](http://go.microsoft.com/fwlink/?LinkID=203031)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-137">For more information, see [How to Export a Certificate with the Private Key](http://go.microsoft.com/fwlink/?LinkID=203031).</span></span>

6.  <span data-ttu-id="d0ffb-138">**Intune にアプリをアップロードする**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-138">**Upload the app to Intune**</span></span><br>
    <span data-ttu-id="d0ffb-139">署名付きのアプリ ファイルと、コード署名証明書をアップロードして、アプリをエンド ユーザーが使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-139">Upload the signed app file and your code-signing certificate to make the app available to your end users.</span></span>

    1.  <span data-ttu-id="d0ffb-140">Azure Portal で **[管理]** &gt; **[Windows Phone]** の順にクリックします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-140">In the Azure portal, click **Administration** &gt; **Windows Phone**.</span></span>

    2.  <span data-ttu-id="d0ffb-141">**[署名済みアプリ ファイルのアップロード]** をクリックし、Intune 管理者 ID でサインインします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-141">Click the **Upload Signed App File** and sign in with your Intune Administrator ID.</span></span>

    3.  <span data-ttu-id="d0ffb-142">エクスポートした証明書 (.pfx) ファイルを **[コード署名証明書]** に追加し、証明書のパスワードを作成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-142">Add the certificate (.pfx) file that you exported to **Code-signing certificate** and create a password for the certificate.</span></span>

    4.  <span data-ttu-id="d0ffb-143">ウィザードを完了します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-143">Complete the wizard.</span></span>

## <a name="example-download-sign-and-deploy-the-company-portal-app-for-windows-devices"></a><span data-ttu-id="d0ffb-144">例: Windows デバイス用ポータル サイト アプリのダウンロード、署名、および展開</span><span class="sxs-lookup"><span data-stu-id="d0ffb-144">Example: Download, sign, and deploy the Company Portal app for Windows devices</span></span>

<span data-ttu-id="d0ffb-145">Microsoft ストアからインストールしなくても、Intune を使用して、Windows Phone や Windows 10 Mobile デバイスなどの Windows デバイスにポータル サイト アプリを展開できます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-145">You can deploy the Company Portal app to Windows devices, including Windows Phone and Windows 10 Mobile devices, with Intune instead of installing from the Microsoft Store.</span></span> <span data-ttu-id="d0ffb-146">ポータル サイト アプリをダウンロードし、証明書を使用して署名する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-146">You must download the Company Portal app and sign it with your certificate.</span></span>  <span data-ttu-id="d0ffb-147">この手順は、ユーザーが会社のストアを使用しないが、ポータル サイトを Windows Phone 8.1 デバイスに展開する場合のみ必要です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-147">This is only necessary if your users won't use the Company Store and you want to deploy the Company Portal to Windows Phone 8.1 devices.</span></span>


1.  <span data-ttu-id="d0ffb-148">**ポータル サイトをダウンロードする**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-148">**Download the Company Portal**</span></span>

    <span data-ttu-id="d0ffb-149">Intune を使用してポータル サイト アプリを展開する場合は、ダウンロード センターから [Windows Phone 8.1 用 Microsoft Intune ポータル サイト アプリ](http://go.microsoft.com/fwlink/?LinkId=615799)をダウンロードし、自己解凍形式 (.exe) のファイルを実行します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-149">To deploy the Company Portal app using Intune, you can download the [Microsoft Intune Company Portal App for Windows Phone 8.1](http://go.microsoft.com/fwlink/?LinkId=615799) from the Download Center and run the self-extracting (.exe) file.</span></span> <span data-ttu-id="d0ffb-150">このファイルには、以下の 2 つのファイルが含まれています。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-150">This file contains two files:</span></span>

    -   <span data-ttu-id="d0ffb-151">CompanyPortal.appx – ポータル サイトの Windows Phone 8.1 用インストール アプリ</span><span class="sxs-lookup"><span data-stu-id="d0ffb-151">CompanyPortal.appx– The Company Portal installation app for Windows Phone 8.1</span></span>

    -   <span data-ttu-id="d0ffb-152">WinPhoneCompanyPortal.ps1 – ポータル サイト アプリ ファイルへの署名に使用する PowerShell スクリプト。これにより、ポータル サイト アプリを Windows Phone 8.1 デバイスに展開できます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-152">WinPhoneCompanyPortal.ps1 – A PowerShell script you can use to sign the Company Portal app file so it can be deployed to Windows Phone 8.1 devices</span></span>

    <span data-ttu-id="d0ffb-153">また、[ビジネス向け Microsoft ストア](http://businessstore.microsoft.com/)から Windows Phone 8.1 ポータル サイト (オフライン ライセンス パッケージ) または Windows 10 ポータル サイト (オフライン ライセンス パッケージ) をダウンロードすることもできます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-153">Alternatively, you can download the Windows Phone 8.1 Company Portal (offline licensed package) or the Windows 10 Company Portal (offline licensed package) from the [Microsoft Store for Business](http://businessstore.microsoft.com/).</span></span> <span data-ttu-id="d0ffb-154">ポータル サイト アプリは、オフライン ライセンスと、オフラインで使用するためにダウンロードした適切なパッケージを使用して取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-154">The Company Portal app will need to be acquired with an offline license and the appropriate package downloaded for offline use.</span></span> <span data-ttu-id="d0ffb-155">選択項目の Windows 8 および Windows Phone 8 プラットフォーム リストでは、対応する 8.1 が参照されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-155">Windows 8 and Windows Phone 8 platform listings in the selection refer to their 8.1 counterparts.</span></span> <span data-ttu-id="d0ffb-156">Intune でそれを行う方法については、「[ビジネス向け Microsoft ストアから購入したアプリを管理する](/intune-classic/deploy-use/manage-apps-you-purchased-from-the-windows-store-for-business-with-microsoft-intune)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-156">For details about how to do this with Intune, see [Manage apps you purchased from the Microsoft Store for Business](/intune-classic/deploy-use/manage-apps-you-purchased-from-the-windows-store-for-business-with-microsoft-intune).</span></span>

2.  <span data-ttu-id="d0ffb-157">**Windows Phone SDK をダウンロードする** Windows Phone SDK 8.0 (http://go.microsoft.com/fwlink/?LinkId=615570) をダウンロードし、SDK をコンピューターにインストールします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-157">**Download the Windows Phone SDK** Download the Windows Phone SDK 8.0](http://go.microsoft.com/fwlink/?LinkId=615570) and install the SDK to your computer.</span></span> <span data-ttu-id="d0ffb-158">この SDK は、アプリケーション登録トークンを生成するために必要です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-158">This SDK is needed to generate an application enrollment token.</span></span>

3.  <span data-ttu-id="d0ffb-159">**AETX ファイルを生成する** Windows Phone SDK 8.0 に含まれる AETGenerator.exe を使用して、Symantec PFX ファイルからアプリケーション登録トークン (.aetx) ファイルを生成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-159">**Generate an AETX file** Generate an application enrollment token (.aetx) file from the Symantec PFX file using AETGenerator.exe, part of Windows Phone SDK 8.0.</span></span> <span data-ttu-id="d0ffb-160">AETX ファイルの作成手順については、「 [Windows Phone 用のアプリケーション登録トークンを生成する方法](https://msdn.microsoft.com/library/windows/apps/jj735576.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-160">For instructions on how to create an AETX file, see [How to generate an application enrollment token for Windows Phone](https://msdn.microsoft.com/library/windows/apps/jj735576.aspx)</span></span>

4.  <span data-ttu-id="d0ffb-161">**Windows SDK for Windows 8.1 をダウンロードする** [Windows Phone SDK](http://go.microsoft.com/fwlink/?LinkId=613525) (http://go.microsoft.com/fwlink/?LinkId=613525) をダウンロードしてインストールします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-161">**Download the Windows SDK for Windows 8.1** Download and install the [Windows Phone SDK](http://go.microsoft.com/fwlink/?LinkId=613525) (http://go.microsoft.com/fwlink/?LinkId=613525).</span></span> <span data-ttu-id="d0ffb-162">ポータル サイト アプリに付属の PowerShell スクリプトでは、既定のインストール場所 `${env:ProgramFiles(x86)}\Windows Kits\8.1`が使用される点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-162">Note that the PowerShell script included with the Company Portal app uses the default install location, `${env:ProgramFiles(x86)}\Windows Kits\8.1`.</span></span> <span data-ttu-id="d0ffb-163">他の場所にインストールする場合は、コマンドレット パラメーターにその場所を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-163">If you install elsewhere, you must include the location in a cmdlet parameter.</span></span>

5.  <span data-ttu-id="d0ffb-164">**PowerShell を使用してアプリにコード署名をする** Windows SDK と Symantec エンタープライズ モバイル コード署名証明書がインストールされたホスト コンピューターで、管理者として **Windows PowerShell** を開き、Sign-WinPhoneCompanyPortal.ps1 ファイルに移動してスクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-164">**Code-sign the app using PowerShell** As an administrator, open **Windows PowerShell** on the host computer installed with the Windows SDK, the Symantec Enterprise Mobile Code Signing Certificate, navigate to the Sign-WinPhoneCompanyPortal.ps1 file and run the script.</span></span>

    <span data-ttu-id="d0ffb-165">**例 1**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-165">**Example 1**</span></span>

    ```
    .\Sign-WinPhoneCompanyPortal.ps1 -InputAppx 'C:\temp\CompanyPortal.appx' -OutputAppx 'C:\temp\CompanyPortalEnterpriseSigned.appx' -PfxFilePath 'C:\signing\cert.pfx' -PfxPassword '1234' -AetxPath 'C:\signing\cert.aetx'
    ```
    <span data-ttu-id="d0ffb-166">この例では、C:\temp\ にある CompanyPortal.appx に署名し、CompanyPortalEnterpriseSigned.appx を生成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-166">This example signs the CompanyPortal.appx at C:\temp\ and produces the CompanyPortalEnterpriseSigned.appx.</span></span> <span data-ttu-id="d0ffb-167">PFX パスワード 1234 を使用して、PFX ファイルから発行者 ID を読み取ります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-167">It would use PFX password 1234 and read the publisher ID from the PFX file.</span></span> <span data-ttu-id="d0ffb-168">同様に、cert.aetx ファイルからはエンタープライズ ID を読み取ります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-168">It reads the enterprise ID from the cert.aetx file as well.</span></span>

    <span data-ttu-id="d0ffb-169">**例 2**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-169">**Example 2**</span></span>

    ```
    .\Sign-WinPhoneCompanyPortal.ps1 -InputAppx 'C:\temp\CompanyPortal.appx' -OutputAppx 'C:\temp\CompanyPortalEnterpriseSigned.appx' -PfxFilePath 'C:\signing\cert.pfx' -PfxPassword '1234' -PublisherId 'OID.0.9.2342.19200300.100.1.1=1000000001, CN="Test, Inc.", OU=Test 1' -EnterpriseId 1000000001
    ```
    <span data-ttu-id="d0ffb-170">この例では、C:\temp\ にある CompanyPortal.appx に署名し、CompanyPortalEnterpriseSigned.appx を生成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-170">This example signs the CompanyPortal.appx at C:\temp\ and produces the CompanyPortalEnterpriseSigned.appx.</span></span> <span data-ttu-id="d0ffb-171">PFX パスワード 1234 を使用して、指定された発行者 ID を使用します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-171">It would use PFX password 1234 and use the publisher ID specified.</span></span>

    <span data-ttu-id="d0ffb-172">**パラメーター:**</span><span class="sxs-lookup"><span data-stu-id="d0ffb-172">**Parameters:**</span></span>

    -   <span data-ttu-id="d0ffb-173">`-InputAppx` – 単一引用符で囲まれた、CompanyPortal.appx ファイルへのローカル パス。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-173">`-InputAppx` – The local path to the CompanyPortal.appx file in single quotes.</span></span> <span data-ttu-id="d0ffb-174">たとえば、'C:\temp\CompanyPortal.appx'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-174">For example 'C:\temp\CompanyPortal.appx'</span></span>

    -   <span data-ttu-id="d0ffb-175">`-OutputAppx` – 単一引用符で囲まれた、署名済みポータル サイト アプリのローカル パスとファイル名。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-175">`-OutputAppx` – The local path and file name for the signed Company Portal app in single quotes.</span></span> <span data-ttu-id="d0ffb-176">たとえば、'C:\temp\CompanyPortalEnterpriseSigned.appx'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-176">For example, 'C:\temp\CompanyPortalEnterpriseSigned.appx'</span></span>

    -   <span data-ttu-id="d0ffb-177">`-PfxFilePath` – Symantec 証明書のエクスポート済み PFX ファイルのローカル パスとファイル名。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-177">`-PfxFilePath` – The local path and file name for the exported PFX file of the Symantec certificate.</span></span> <span data-ttu-id="d0ffb-178">たとえば、'C:\signing\cert.pfx'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-178">For example, 'C:\signing\cert.pfx'</span></span>

    -   <span data-ttu-id="d0ffb-179">`-PfxPassword` – 単一引用符で囲まれた、PFX ファイルの署名に使用されるパスワード。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-179">`-PfxPassword` – The password used to sign the PFX file in single quotes.</span></span> <span data-ttu-id="d0ffb-180">たとえば、'1234'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-180">For example '1234'</span></span>

    -   <span data-ttu-id="d0ffb-181">`-AetxPath` – 'EnterpriseId' 引数が定義されていない場合にエンタープライズ ID の読み取りに使用される、.aetx ファイルへのローカル パス。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-181">`-AetxPath` – The local path to the .aetx file which is used for reading the enterprise ID if the 'EnterpriseId' argument is not defined.</span></span> <span data-ttu-id="d0ffb-182">この引数と EnterpriseId のいずれかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-182">Either this argument or EnterpriseId must be provided.</span></span> <span data-ttu-id="d0ffb-183">たとえば、'C:\signing\cert.aetx'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-183">For example 'C:\signing\cert.aetx'</span></span>

    -   <span data-ttu-id="d0ffb-184">`-PublisherId` - エンタープライズの発行者 ID。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-184">`-PublisherId` - The Publisher ID of the enterprise.</span></span> <span data-ttu-id="d0ffb-185">指定しない場合、Symantec エンタープライズ モバイル コード署名証明書の 'Subject' フィールドが使用されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-185">If absent, the 'Subject' field of the Symantec Enterprise Mobile Code Signing Certificate is used.</span></span> <span data-ttu-id="d0ffb-186">たとえば、'OID.0.9.2342.19200300.100.1.1=1000000001, CN="Test, Inc.", OU=Test 1'。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-186">For example, 'OID.0.9.2342.19200300.100.1.1=1000000001, CN="Test, Inc.", OU=Test 1'</span></span>

    -   <span data-ttu-id="d0ffb-187">`-SdkPath` - Windows 8.1 用 Windows SDK のルート フォルダーへのパス。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-187">`-SdkPath` - The path to the root folder of the Windows SDK for Windows 8.1.</span></span> <span data-ttu-id="d0ffb-188">この引数は省略可能で、既定値は ${env:ProgramFiles(x86)}\Windows Kits\8.1 です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-188">This argument is optional and defaults to ${env:ProgramFiles(x86)}\Windows Kits\8.1.</span></span>

    -   <span data-ttu-id="d0ffb-189">`-EnterpriseId` - エンタープライズ ID。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-189">`-EnterpriseId` - The enterprise ID.</span></span> <span data-ttu-id="d0ffb-190">この引数と 'AetxPath' のいずれかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-190">Either this argument or 'AetxPath' must be provided.</span></span> <span data-ttu-id="d0ffb-191">この引数が指定されていない場合、AETX ファイルからエンタープライズ ID が読み取られます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-191">If this argument is not provided, the enterprise ID is read from the AETX file.</span></span> <span data-ttu-id="d0ffb-192">たとえば、1000000001。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-192">For example, 1000000001</span></span>

6.  <span data-ttu-id="d0ffb-193">Windows Phone 8.1 ポータル サイト (SSP.appx) アプリを展開する</span><span class="sxs-lookup"><span data-stu-id="d0ffb-193">Deploy the Windows Phone 8.1 Company Portal (SSP.appx) app.</span></span> <span data-ttu-id="d0ffb-194">ガイダンスについては、[Windows Phone の基幹業務 (LOB) アプリを追加する方法](lob-apps-windows-phone.md) ([クラシック ポータル](/intune-classic/deploy-use/deploy-apps-in-microsoft-intune)) に関する内容をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-194">For guidance, see [How to add Windows Phone line-of-business (LOB) apps](lob-apps-windows-phone.md) ([classic portal](/intune-classic/deploy-use/deploy-apps-in-microsoft-intune)).</span></span>

## <a name="how-to-renew-the-symantec-enterprise-code-signing-certificate"></a><span data-ttu-id="d0ffb-195">Symantec エンタープライズ コード署名証明書を更新する方法</span><span class="sxs-lookup"><span data-stu-id="d0ffb-195">How to renew the Symantec enterprise code-signing certificate</span></span>

<span data-ttu-id="d0ffb-196">Windows および Windows Phone モバイル アプリを展開するのに使用する Symantec 証明書は、定期的に更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-196">The Symantec certificate used to deploy Windows and Windows Phone mobile apps must be renewed periodically.</span></span>

1.  <span data-ttu-id="d0ffb-197">証明書の有効期限の約 14 日前に Symantec から送信される更新に関する電子メールを探します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-197">Look for a renewal email sent from Symantec approximately 14 days prior to certificate expiration.</span></span> <span data-ttu-id="d0ffb-198">この電子メールには、エンタープライズ証明書の更新に関する Symantec から指示が記載されています。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-198">This email contains directions from Symantec about renewing your enterprise certificate.</span></span>

    <span data-ttu-id="d0ffb-199">Symantec 証明書の詳細については、[www.symantec.com](http://www.symantec.com) にアクセスするか、1-877-438-8776 または 1-650-426-3400 に電話をかけてください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-199">For additional information about Symantec certificates, visit [www.symantec.com](http://www.symantec.com) or call 1-877-438-8776 or 1-650-426-3400.</span></span>

2.  <span data-ttu-id="d0ffb-200">Web サイト (例: [https://products.websecurity.symantec.com/orders/enrollment/microsoftCert.do](https://products.websecurity.symantec.com/orders/enrollment/microsoftCert.do)) に移動し、証明書に関連付けられている Symantec 発行者 ID と電子メール アドレスを使用してログインします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-200">Go to the website (example: [https://products.websecurity.symantec.com/orders/enrollment/microsoftCert.do](https://products.websecurity.symantec.com/orders/enrollment/microsoftCert.do)) and login with the Symantec Publisher ID and email addressed associated with the certificate.</span></span> <span data-ttu-id="d0ffb-201">更新を開始するコンピューターは、証明書のダウンロードに使用するのと同じコンピューターである必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-201">Remember to use the same machine for starting the renewal that you’ll use to download the certificate.</span></span>

3.  <span data-ttu-id="d0ffb-202">更新が承認され支払いが済んだら、証明書をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-202">Once the renewal is approved and paid for, download the certificate.</span></span>

### <a name="how-to-install-the-updated-certificate-for-line-of-business-lob-apps"></a><span data-ttu-id="d0ffb-203">基幹業務 (LOB) アプリの更新された証明書をインストールする方法</span><span class="sxs-lookup"><span data-stu-id="d0ffb-203">How to install the updated certificate for line-of-business (LOB) apps</span></span>

1.  <span data-ttu-id="d0ffb-204">最新バージョンの基幹業務アプリに署名します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-204">Sign the latest version of your line-of-business app.</span></span>

2.  <span data-ttu-id="d0ffb-205">Azure Portal を開き、**[管理]** &gt; **[モバイル デバイス管理]** &gt; **[Windows Phone]** の順に選択し、**[Upload Signed App]\(署名済みアプリのアップロード\)** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-205">Open the Azure portal and go to **Admin** &gt; **Mobile Device Management** &gt; **Windows Phone** and click **Upload Signed App**.</span></span>

3.  <span data-ttu-id="d0ffb-206">新しく署名したポータル サイトをアップロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-206">Upload the newly signed Company Portal.</span></span> <span data-ttu-id="d0ffb-207">新しく署名した SSP.xap と、Symantec から送信された新しい .PFX ファイルまたはこの新しい .PFX ファイルを使用して作成されたアプリケーション登録トークンが必要になります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-207">You’ll need the newly signed SSP.xap and the new .PFX file you received from Symantec or the Application enrollment token that was created with this new .PFX file.</span></span>

4.  <span data-ttu-id="d0ffb-208">アップロードが完了したら、 **[ソフトウェア]**  ワークスペースで古いバージョンのポータル サイトを削除します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-208">When the upload is complete, remove the old Company Portal version in the **Software**  workspace.</span></span>

5.  <span data-ttu-id="d0ffb-209">新しい証明書を使用して、新しいエンタープライズ基幹業務アプリと更新されたエンタープライズ基幹業務アプリのすべてに署名します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-209">Sign all new and any updated enterprise line-of-business apps using the new certificate.</span></span> <span data-ttu-id="d0ffb-210">既存のアプリケーションを再署名して再展開する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-210">Existing applications do not need to be resigned and redeployed.</span></span>

## <a name="manually-deploy-windows-10-company-portal-app"></a><span data-ttu-id="d0ffb-211">Windows 10 ポータル サイト アプリの手動展開</span><span class="sxs-lookup"><span data-stu-id="d0ffb-211">Manually deploy Windows 10 Company Portal app</span></span>
<span data-ttu-id="d0ffb-212">Intune をビジネス向け Microsoft ストアと統合していない場合でも、Intune から直接 Windows 10 ポータル サイト アプリを手動で展開できます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-212">You can manually deploy the Windows 10 Company Portal app directly from Intune, even if you haven’t integrated Intune with the Microsoft Store for Business.</span></span>

 > [!NOTE]
 > <span data-ttu-id="d0ffb-213">このオプションでは、アプリの更新プログラムがリリースされるたびに、手動更新を展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-213">This option will require deploying manual updates each time an app update is released.</span></span>

1. <span data-ttu-id="d0ffb-214">[ビジネス向け Microsoft ストア](https://www.microsoft.com/business-store)のアカウントにログインし、ポータル サイト アプリの**オフライン ライセンス** バージョンを取得します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-214">Log in to your account in the [Microsoft Store for Business](https://www.microsoft.com/business-store) and acquire the **offline license** version of the Company Portal app.</span></span>  
2. <span data-ttu-id="d0ffb-215">アプリが取得されたら、**[インベントリ]** ページでアプリを選択します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-215">Once the app has been acquired, select the app in the **Inventory** page.</span></span>  
3. <span data-ttu-id="d0ffb-216">**プラットフォーム**として **[Windows 10 all devices (Windows 10 のすべてのデバイス)]** を選択し、適切な**アーキテクチャ**を選択してダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-216">Select **Windows 10 all devices** as the **Platform**, then the appropriate **Architecture** and download.</span></span> <span data-ttu-id="d0ffb-217">このアプリは、アプリ ライセンス ファイルを必要としません。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-217">An app license file is not needed for this app.</span></span>
<span data-ttu-id="d0ffb-218">![ダウンロードする Windows 10 のすべてのデバイスと Architecture X86 Package のイメージ](./media/Win10CP-all-devices.png)</span><span class="sxs-lookup"><span data-stu-id="d0ffb-218">![Image of Windows 10 all devices and Architecture X86 Package details for Download](./media/Win10CP-all-devices.png)</span></span>
4. <span data-ttu-id="d0ffb-219">[必要なフレームワーク] の下のすべてのパッケージをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-219">Download all the packages under “Required Frameworks”.</span></span> <span data-ttu-id="d0ffb-220">x86、x64、および ARM アーキテクチャ用に実行する必要があります。次に示すように、合計 9 個のパッケージのダウンロードが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-220">This must be done for x86, x64 and ARM architectures – resulting in a total of 9 packages as shown below.</span></span>

![<span data-ttu-id="d0ffb-221">ダウンロードする依存関係ファイルのイメージ</span><span class="sxs-lookup"><span data-stu-id="d0ffb-221">Image of dependency files to Download</span></span> ](./media/Win10CP-dependent-files.png)
5. <span data-ttu-id="d0ffb-222">ポータル サイト アプリを Intune にアップロードする前に、パッケージを次のように構成してフォルダー (C:&#92;ポータル サイトなど) を作成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-222">Before uploading the Company Portal app to Intune, create a folder (e.g., C:&#92;Company Portal) with the packages structured in the following way:</span></span>
   1. <span data-ttu-id="d0ffb-223">C:\ポータル サイトにポータル サイト パッケージを配置します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-223">Place the Company Portal package into C:\Company Portal.</span></span> <span data-ttu-id="d0ffb-224">また、この場所に依存関係サブフォルダーも作成します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-224">Create a Dependencies subfolder in this location as well.</span></span>  
   ![APPXBUN ファイルと共に保存された依存関係フォルダーのイメージ](./media/Win10CP-Dependencies-save.png)
   2. <span data-ttu-id="d0ffb-226">依存関係フォルダーに 9 つの依存関係パッケージを配置します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-226">Place the nine dependencies packages in the Dependencies folder.</span></span>  
   <span data-ttu-id="d0ffb-227">依存関係がこの形式で配置されていないと、Intune はパッケージのアップロード時にこれらを認識、アップロードすることができます、次のエラーでアップロードが失敗します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-227">If the dependencies are not placed in this format, Intune will not be able to recognize and upload them during the package upload, causing the upload to fail with the following error.</span></span>  
   ![このソフトウェア インストーラーに関する Windows アプリの依存関係がアプリケーション フォルダー内で見つかりませんでした。](./media/Win10CP-error-message.png)
6. <span data-ttu-id="d0ffb-230">Intune に戻り、ポータル サイト アプリを新しいアプリとしてアップロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-230">Return to Intune, then upload the Company Portal app as a new app.</span></span> <span data-ttu-id="d0ffb-231">これを必要なアプリとして対象の一連のターゲット ユーザーに展開します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-231">Deploy it as a required app to the desired set of target users.</span></span>  

<span data-ttu-id="d0ffb-232">Intune がユニバーサル アプリ用に依存関係をどのように処理するかについて詳しくは、「[Deploying an appxbundle with dependencies via Microsoft Intune MDM (Microsoft Intune MDM 経由で依存関係を使用して appxbundle を展開する)](https://blogs.technet.microsoft.com/configmgrdogs/2016/11/30/deploying-an-appxbundle-with-dependencies-via-microsoft-intune-mdm/)」ご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-232">See [Deploying an appxbundle with dependencies via Microsoft Intune MDM](https://blogs.technet.microsoft.com/configmgrdogs/2016/11/30/deploying-an-appxbundle-with-dependencies-via-microsoft-intune-mdm/) for more information about how Intune handles dependencies for Universal apps.</span></span>  

### <a name="how-do-i-update-the-company-portal-on-my-users-devices-if-they-have-already-installed-the-older-apps-from-the-store"></a><span data-ttu-id="d0ffb-233">ユーザーがストアから古いアプリを既にインストールしている場合に、ユーザーのデバイスのポータル サイトを更新する方法</span><span class="sxs-lookup"><span data-stu-id="d0ffb-233">How do I update the Company Portal on my users’ devices if they have already installed the older apps from the store?</span></span>
<span data-ttu-id="d0ffb-234">貴社のユーザーがストアから Windows 8.1 または Windows Phone 8.1 ポータル サイト アプリを既にインストールしている場合は、お客様またはお客様のユーザーが特に操作を行わなくても新しいバージョンに自動的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-234">If your users have already installed the Windows 8.1 or Windows Phone 8.1 Company Portal apps from the Store, then they should be automatically updated to the new version with no action required from you or your user.</span></span> <span data-ttu-id="d0ffb-235">更新が実行されない場合は、デバイスでストア アプリの自動更新を有効にしているかどうかをユーザーに確認してください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-235">If the update does not happen, ask your users to check that they have enabled autoupdates for Store apps on their devices.</span></span>   

### <a name="how-do-i-upgrade-my-sideloaded-windows-81-company-portal-app-to-the-windows-10-company-portal-app"></a><span data-ttu-id="d0ffb-236">サイドロードした Windows 8.1 のポータル サイト アプリを Windows 10 のポータル サイト アプリにアップグレードする方法</span><span class="sxs-lookup"><span data-stu-id="d0ffb-236">How do I upgrade my sideloaded Windows 8.1 Company Portal app to the Windows 10 Company Portal app?</span></span>
<span data-ttu-id="d0ffb-237">推奨される移行パスとして、展開アクションを "アンインストール" に設定して、Windows 8.1 ポータル サイト アプリの展開を削除します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-237">Our recommended migration path is to delete the deployment for the Windows 8.1 Company Portal app by setting the deployment action to “Uninstall”.</span></span> <span data-ttu-id="d0ffb-238">これが完了したら、上記のいずれかのオプションを使用して、Windows 10 ポータル サイト アプリを展開できるようになります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-238">Once this is done, the Windows 10 Company Portal app can be deployed using any of the above options.</span></span>  

<span data-ttu-id="d0ffb-239">アプリをサイドロードする必要があり、Symantec 証明書で署名せずに Windows 8.1 ポータル サイトを展開した場合は、上の Intune セクションから直接、展開に関する手順に従ってアップグレードを完了します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-239">If you need to sideload the app and deployed the Windows 8.1 Company Portal without signing it with the Symantec Certificate, follow the steps in the Deploy directly via Intune section above to complete the upgrade.</span></span>

<span data-ttu-id="d0ffb-240">アプリをサイドロードする必要があり、Symantec コード署名証明書で Windows 8.1 ポータル サイトに署名し展開した場合は、以下のセクションの手順に従ってください。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-240">If you need to sideload the app and you signed and deployed the Windows 8.1 Company Portal with the Symantec code-signing certificate, follow the steps in the section below.</span></span>  

### <a name="how-do-i-upgrade-my-signed-and-sideloaded-windows-phone-81-company-portal-app-or-windows-81-company-portal-app-to-the-windows-10-company-portal-app"></a><span data-ttu-id="d0ffb-241">署名およびサイドロードした Windows Phone 8.1 ポータル サイト アプリまたは Windows 8.1 ポータル サイト アプリを Windows 10 ポータル サイト アプリにアップグレードする方法</span><span class="sxs-lookup"><span data-stu-id="d0ffb-241">How do I upgrade my signed and sideloaded Windows Phone 8.1 Company Portal app or Windows 8.1 Company Portal app to the Windows 10 Company Portal app?</span></span>
<span data-ttu-id="d0ffb-242">推奨される移行パスとして、展開アクションを "アンインストール" に設定して、Windows Phone 8.1 ポータル サイト アプリまたは Windows 8.1 ポータル サイト アプリの既存の展開を削除します。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-242">Our recommended migration path is to delete the existing deployment for the Windows Phone 8.1 Company Portal app or the Windows 8.1 Company Portal app by setting the deployment action to “Uninstall”.</span></span> <span data-ttu-id="d0ffb-243">これが完了したら、通常どおり Windows 10 ポータル サイト アプリを展開できるようになります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-243">Once this is done, the Windows 10 Company Portal app can be deployed normally.</span></span>  

<span data-ttu-id="d0ffb-244">これ以外の場合は、アップグレードのパスが確実に考慮されるように Windows 10 ポータル サイト アプリを適切に更新し、署名する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-244">Otherwise, the Windows 10 Company Portal app needs to be appropriately updated and signed to ensure that the upgrade path is respected.</span></span>  

<span data-ttu-id="d0ffb-245">この方法で Windows 10 ポータル サイト アプリに署名し展開した場合、ストアで入手可能になった新しいアプリの更新プログラムごとにこのプロセスを繰り返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-245">If the Windows 10 Company Portal app is signed and deployed in this way, you will need to repeat this process for each new app update when it is available in the store.</span></span> <span data-ttu-id="d0ffb-246">ストアが更新されたときに、アプリは自動的に更新されません。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-246">The app will not automatically update when the store is updated.</span></span>  

<span data-ttu-id="d0ffb-247">この場合のアプリへの署名および展開方法は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-247">Here’s how you sign and deploy the app in this way:</span></span>

1. <span data-ttu-id="d0ffb-248">Microsoft Intune Windows 10 ポータル サイト アプリの署名スクリプトを [https://aka.ms/win10cpscript](https://aka.ms/win10cpscript) からダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-248">Download the Microsoft Intune Windows 10 Company Portal App Signing Script from [https://aka.ms/win10cpscript](https://aka.ms/win10cpscript).</span></span>  <span data-ttu-id="d0ffb-249">このスクリプトでは、Windows SDK for Windows 10 をホスト コンピューターにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-249">This script requires the Windows SDK for Windows 10 to be installed on the host computer.</span></span> <span data-ttu-id="d0ffb-250">Windows SDK for Windows 10 をダウンロードするには、[https://go.microsoft.com/fwlink/?LinkId=619296](https://go.microsoft.com/fwlink/?LinkId=619296) にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-250">To download the Windows SDK for Windows 10, visit [https://go.microsoft.com/fwlink/?LinkId=619296](https://go.microsoft.com/fwlink/?LinkId=619296).</span></span>
2. <span data-ttu-id="d0ffb-251">上記の説明のように、ビジネス向け Microsoft ストアから Windows 10 ポータル サイト アプリをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-251">Download the Windows 10 Company Portal app from the Microsoft Store for Business, as detailed above.</span></span>  
3. <span data-ttu-id="d0ffb-252">スクリプト ヘッダーに記載された入力パラメーターを使用してスクリプトを実行し、Windows 10 ポータル サイト アプリに署名します (以下に抜粋)。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-252">Run the script with the input parameters detailed in the script header to sign the Windows 10 Company Portal app (extracted below).</span></span> <span data-ttu-id="d0ffb-253">スクリプトに依存関係を渡す必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-253">Dependencies do not need to be passed into the script.</span></span> <span data-ttu-id="d0ffb-254">依存関係は、アプリが Intune 管理コンソールにアップロードされる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-254">These are only required when the app is being uploaded to the Intune Admin Console.</span></span>

|<span data-ttu-id="d0ffb-255">パラメーター</span><span class="sxs-lookup"><span data-stu-id="d0ffb-255">Parameter</span></span> | <span data-ttu-id="d0ffb-256">説明</span><span class="sxs-lookup"><span data-stu-id="d0ffb-256">Description</span></span>|
| ------------- | ------------- |
|<span data-ttu-id="d0ffb-257">InputWin10AppxBundle</span><span class="sxs-lookup"><span data-stu-id="d0ffb-257">InputWin10AppxBundle</span></span> |<span data-ttu-id="d0ffb-258">ソース appxbundle ファイルが配置されるパス。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-258">The path to where the source appxbundle file is located.</span></span> |
|<span data-ttu-id="d0ffb-259">OutputWin10AppxBundle</span><span class="sxs-lookup"><span data-stu-id="d0ffb-259">OutputWin10AppxBundle</span></span> |<span data-ttu-id="d0ffb-260">署名された appxbundle ファイルの出力パス</span><span class="sxs-lookup"><span data-stu-id="d0ffb-260">The output path for the signed appxbundle file.</span></span> |
|<span data-ttu-id="d0ffb-261">Win81Appx</span><span class="sxs-lookup"><span data-stu-id="d0ffb-261">Win81Appx</span></span> | <span data-ttu-id="d0ffb-262">Windows 8.1 または Windows Phone 8.1 ポータル サイト (.APPX) ファイルが配置されるパス。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-262">The path to where the Windows 8.1 or Windows Phone 8.1 Company Portal (.APPX) file is located.</span></span>|
|<span data-ttu-id="d0ffb-263">PfxFilePath</span><span class="sxs-lookup"><span data-stu-id="d0ffb-263">PfxFilePath</span></span> |<span data-ttu-id="d0ffb-264">Symantec エンタープライズ モバイル コード署名証明書 (.PFX) ファイルへのパス</span><span class="sxs-lookup"><span data-stu-id="d0ffb-264">The path to Symantec Enterprise Mobile Code Signing Certificate (.PFX) file.</span></span> |
|<span data-ttu-id="d0ffb-265">PfxPassword</span><span class="sxs-lookup"><span data-stu-id="d0ffb-265">PfxPassword</span></span>| <span data-ttu-id="d0ffb-266">Symantec エンタープライズ モバイル コード署名証明書のパスワード</span><span class="sxs-lookup"><span data-stu-id="d0ffb-266">The password of the Symantec Enterprise Mobile Code Signing Certificate.</span></span> |
|<span data-ttu-id="d0ffb-267">PublisherId</span><span class="sxs-lookup"><span data-stu-id="d0ffb-267">PublisherId</span></span> |<span data-ttu-id="d0ffb-268">エンタープライズの発行者 ID</span><span class="sxs-lookup"><span data-stu-id="d0ffb-268">The Publisher ID of the enterprise.</span></span> <span data-ttu-id="d0ffb-269">指定しない場合、Symantec エンタープライズ モバイル コード署名証明書の 'Subject' フィールドが使用されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-269">If absent, the 'Subject' field of the Symantec Enterprise Mobile Code Signing Certificate is used.</span></span>|
|<span data-ttu-id="d0ffb-270">SdkPath</span><span class="sxs-lookup"><span data-stu-id="d0ffb-270">SdkPath</span></span> | <span data-ttu-id="d0ffb-271">Windows SDK for Windows 10 のルート フォルダーへのパス</span><span class="sxs-lookup"><span data-stu-id="d0ffb-271">The path to the root folder of the Windows SDK for Windows 10.</span></span> <span data-ttu-id="d0ffb-272">この引数は省略可能で、既定値は ${env:ProgramFiles(x86)}\Windows Kits\10 です。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-272">This argument is optional and defaults to ${env:ProgramFiles(x86)}\Windows Kits\10</span></span>|

<span data-ttu-id="d0ffb-273">実行が終了したら、スクリプトにより Windows 10 ポータル サイト アプリの署名されたバージョンが出力されます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-273">The script will output the signed version of the Windows 10 Company Portal app when it has finished running.</span></span> <span data-ttu-id="d0ffb-274">その後、アプリの署名されたバージョンを Intune 経由で LOB アプリとして展開できます。これにより、現在展開されているバージョンがこの新しいアプリにアップグレードされます。</span><span class="sxs-lookup"><span data-stu-id="d0ffb-274">You can then deploy the signed version of the app as an LOB app via Intune, which will upgrade the currently deployed versions to this new app.</span></span>  
